import os
import argparse

def create_project_structure(project_name):
    # Chemin racine
    base_path = os.path.join(os.getcwd(), project_name)
    
    # Sous-dossiers
    folders = ['data', 'notebooks', 'models']
    
    # Cr√©er le dossier principal
    if not os.path.exists(base_path):
        os.makedirs(base_path)
        print(f"[‚úî] Created project folder: {project_name}")
    
    # Cr√©er les sous-dossiers
    for folder in folders:
        path = os.path.join(base_path, folder)
        os.makedirs(path, exist_ok=True)
        print(f"[‚úî] Created folder: {folder}/")
    
    # Cr√©er README.md de base
    readme_content = f"# üè† {project_name.capitalize()}\n\nInitial setup generated by init_ia_project.py."
    with open(os.path.join(base_path, 'README.md'), 'w') as f:
        f.write(readme_content)
        print("[‚úî] Created README.md")
    
    # Cr√©er un notebook vide
    notebook_path = os.path.join(base_path, 'notebooks', '01_exploration.ipynb')
    empty_notebook = {
        "cells": [],
        "metadata": {},
        "nbformat": 4,
        "nbformat_minor": 5
    }
    
    import json
    with open(notebook_path, 'w') as f:
        json.dump(empty_notebook, f)
        print("[‚úî] Created 01_exploration.ipynb")

if __name__ == "__main__":
    parser = argparse.ArgumentParser(description='Initialize a Machine Learning project structure.')
    parser.add_argument('--name', type=str, required=True, help='Name of the project folder to create')
    args = parser.parse_args()
    
    create_project_structure(args.name)
